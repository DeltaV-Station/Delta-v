- type: htnCompound
  id: k9Compound
  branches:
    - preconditions:
        - !type:HasOrdersPrecondition
          orders: enum.RemoteControlOrderType.EntityPoint
      tasks:
        - !type:HTNCompoundTask
          task: K9GrappleCompound
    - preconditions:
        - !type:HasOrdersPrecondition
          orders: enum.RemoteControlOrderType.TilePoint
      tasks:
        - !type:HTNPrimitiveTask
          operator: !type:MoveToOperator
            pathfindInPlanning: true
            targetKey: MovementTarget
            RangeKey: IdleRange
        - !type:HTNCompoundTask
          task: IdleSpinCompound
    - preconditions:
        - !type:HasOrdersPrecondition
          orders: enum.RemoteControlOrderType.SelfPoint
      tasks:
        - !type:HTNPrimitiveTask
          operator: !type:DropCatchOrderOperator
        - !type:HTNCompoundTask
          task: FollowCompound
    - preconditions:
        - !type:HasOrdersPrecondition
          orders: enum.RemoteControlOrderType.FreeUnit
      tasks:
      - !type:HTNCompoundTask
        task: IdleCompound

- type: htnCompound
  id: K9GrappleCompound
  branches:
    - tasks:
        - !type:HTNPrimitiveTask
          operator: !type:MoveToOperator
            shutdownState: PlanFinished
            pathfindInPlanning: true
            removeKeyOnFinish: false
            targetKey: TargetCoordinates
            pathfindKey: TargetPathfind
            rangeKey: MeleeRange
        - !type:HTNPrimitiveTask
          operator: !type:CatchOrderOperator
