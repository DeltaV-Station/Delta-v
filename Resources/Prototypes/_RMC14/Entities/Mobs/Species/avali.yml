- type: entity
  save: false
  name: Urist McRaptor # DeltaV - we ain't marines here
  parent: BaseMobSpeciesOrganic # DeltaV - set proper parent
  id: BaseMobAvali # DeltaV - rename base entity
  abstract: true # DeltaV - define MobAvali elsewhere
  #suffix: RMC14 # DeltaV - no suffix needed
  components:
  - type: HumanoidAppearance
    species: Avali
    hideLayersOnEquip:
    - HeadTop
    #- HeadSide # DeltaV - show ears under helmets
  - type: Sprite
    drawdepth: Mobs
  - type: Vocal
    sounds:
      Male: RMCMaleAvali
      Unsexed: RMCMaleAvali
      Female: RMCFemaleAvali
  - type: Speech
    speechVerb: Parrot # Didn't come with one
    speechSounds: MaleAvali
  - type: DamageVisuals
    damageOverlayGroups:
      Brute:
        sprite: Mobs/Effects/brute_damage.rsi
        color: "#7a8bf2"
      Burn: # DeltaV
        sprite: Mobs/Effects/burn_damage.rsi
  - type: MeleeWeapon
    soundHit:
      path: /Audio/Weapons/pierce.ogg
    damage: # DeltaV - evens out to about 5 after damage modifier
      types:
        Slash: 6
    animation: WeaponArcClaw
  - type: Inventory
    speciesId: moth # DeltaV - same eyes
    # Begin DeltaV additions - displacements from Harmony
    displacements:
      # head displacement doesn't play nice with sec combat hardsuit, ignoring those until fixed
      #displacements:
      #head:
      #  sizeMaps:
      #    32:
      #      sprite: _Starlight/Mobs/Species/Avali/displacement.rsi
      #      state: head
      mask:
        sizeMaps:
          32:
            sprite: _Starlight/Mobs/Species/Avali/displacement.rsi
            state: mask
    # End DeltaV additions - displacements from Harmony
  #- type: FixedIdentity # DeltaV - unneeded
  #  name: cm-chatsan-replacement-avali
  # Begin DeltaV additions
  - type: Hunger
  - type: Thirst
  - type: Icon
    sprite: _Starlight/Mobs/Species/Avali/parts.rsi # DeltaV - Using Starlight Avali Sprites
    state: full
  - type: Body
    prototype: Avali
    requiredLegs: 2
  - type: Fixtures # somewhat lower weight
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 160
        restitution: 0.0
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: Bloodstream
    bloodReagent: AmmoniaBlood
  - type: BonusStaminaDamage
    multiplier: 0.85 # less melee stamina damage
  - type: BonusMeleeDamage # significantly weaker with melee
    damageModifierSet:
      coefficients:
        Blunt: 0.65
        Slash: 0.85
  - type: Damageable
    damageModifierSet: Avali
  - type: Temperature # thrives in the cold, similar to moths
    heatDamageThreshold: 310
    coldDamageThreshold: 223
    currentTemperature: 296.15 # lower natural body temp
    specificHeat: 25 # makes temp more lethal
    coldDamage:
      types:
        Cold : 0.05
    heatDamage:
      types:
        Heat : 5 # extremely high
    damageCap: 20 # greatly increased temp damage cap
  - type: ThermalRegulator # CD values
    metabolismHeat: 400
    radiatedHeat: 100
    implicitHeatRegulation: 500
    sweatHeatRegulation: 2000
    shiveringHeatRegulation: 2000
    normalBodyTemperature: 296.15
    thermalRegulationTemperatureThreshold: 10
  - type: TemperatureSpeed # less punishing cold
    thresholds:
      279: 0.95
      265: 0.9
      240: 0.85
  # End DeltaV additions

- type: entity
  parent: BaseSpeciesDummy
  id: MobAvaliDummy
  categories: [ HideSpawnMenu ]
  # Begin DeltaV additions - Gives them moth eye sprites in the character menu
  components:
  - type: Inventory
    speciesId: moth
  # End DeltaV additions
