#Parent
- type: entity
  abstract: true
  parent: [ BaseStructureDynamic, BaseBagOpenClose ]
  id: BaseSecureCabinet
  suffix: Empty
  description: A secure cabinet to keep all your confidential files or items away from prying hands.
  categories: [ HideSpawnMenu ]
  components:
  - type: Storage
    grid:
    - 0,0,2,1
    - 0,3,2,4
    - 0,6,2,7
    maxItemSize: Normal
  - type: Sprite
    sprite: DeltaV/Structures/Storage/secure_cabinet.rsi
    noRot: true
  - type: Appearance
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface
  - type: Transform
    noRot: true
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.22,-0.40,0.22,0.40"
        density: 200
        mask:
        - MachineMask
        layer:
        - MachineLayer
  - type: InteractionOutline
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: Metallic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 50
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:SpawnEntitiesBehavior
        spawn:
          SheetSteel1:
            min: 1
            max: 2
  - type: StaticPrice
    price: 80
  - type: Construction
    graph: SecureCabinet
    node: securecabinet
  
#Empty Secure Cabinet
- type: entity
  parent: BaseSecureCabinet
  id: SecureCabinet
  name: Secure Cabinet
  suffix: Empty
  components:
  - type: Lock
  - type: LockVisuals
  - type: AccessReader
  - type: Sprite
    state: secure-cabinet
    layers:
    - state: secure-cabinet
    - state: secure-cabinet-open
      map: ["openLayer"]
    - state: unlocked
      shader: unshaded
    - state: locked
      map: ["enum.LockVisualLayers.Lock"]
      shader: unshaded

#Filled Secure Cabinet
- type: entity
  parent: SecureCabinet
  id: FilledSecureCabinet
  suffix: Filled
  categories: [ HideSpawnMenu ]
  components:
  - type: StorageFill
    contents:
      - id: Pen
        prob: 0.5
      - id: PaperOffice
        amount: 1
        maxAmount: 2
      - id: Paper
        amount: 1
        maxAmount: 2
      - id: BoxFolderBlue
        orGroup: Folder
      - id: BoxFolderRed
        orGroup: Folder
      - id: BoxFolderYellow
        orGroup: Folder
      - id: BoxFolderWhite
        orGroup: Folder
      - id: BoxFolderGrey
        orGroup: Folder
      - id: BoxFolderBlack
        orGroup: Folder


#Role Secure Cabinets
#Captain
- type: entity
  parent: FilledSecureCabinet
  id: CaptainSecureCabinet
  suffix: Captain
  components:
  - type: AccessReader
    access: [["Captain"]]
    
#HeadOfSecurity
- type: entity
  parent: FilledSecureCabinet
  id: HoSSecureCabinet
  suffix: Head Of Security
  components:
  - type: AccessReader
    access: [["HeadOfSecurity"]]
    
#HeadOfPersonnel
- type: entity
  parent: FilledSecureCabinet
  id: HoPSecureCabinet
  suffix: Head Of Personnel
  components:
  - type: AccessReader
    access: [["HeadOfPersonnel"]]

#Logistics Officer (Quartermaster)
- type: entity
  parent: FilledSecureCabinet
  id: LOSecureCabinet
  suffix: Logistics Officer
  components:
  - type: AccessReader
    access: [["Quartermaster"]]

#ChiefMedicalOfficer
- type: entity
  parent: FilledSecureCabinet
  id: CMOSecureCabinet
  suffix: Chief Medical Officer
  components:
  - type: AccessReader
    access: [["ChiefMedicalOfficer"]]

#ChiefJustice
- type: entity
  parent: FilledSecureCabinet
  id: CJSecureCabinet
  suffix: Chief Justice
  components:
  - type: AccessReader
    access: [["ChiefJustice"]]

#Mystagogue (ResearchDirector)
- type: entity
  parent: FilledSecureCabinet
  id: MGSecureCabinet
  suffix: Mystagogue
  components:
  - type: AccessReader
    access: [["ResearchDirector"]]

#ChiefEngineer
- type: entity
  parent: FilledSecureCabinet
  id: CESecureCabinet
  suffix: Chief Engineer
  components:
  - type: AccessReader
    access: [["ChiefEngineer"]]

#Warden (Armory)
- type: entity
  parent: FilledSecureCabinet
  id: WardenSecureCabinet
  suffix: Warden
  components:
  - type: AccessReader
    access: [["Armory"]]

#Detective
- type: entity
  parent: FilledSecureCabinet
  id: DetectiveSecureCabinet
  suffix: Detective
  components:
  - type: AccessReader
    access: [["Detective"]]

#Reporter
- type: entity
  parent: FilledSecureCabinet
  id: ReporterSecureCabinet
  suffix: Reporter
  components:
  - type: AccessReader
    access: [["Reporter"]]

#Clerk
- type: entity
  parent: FilledSecureCabinet
  id: ClerkSecureCabinet
  suffix: Clerk
  components:
  - type: AccessReader
    access: [["Clerk"]]

#Prosecutor
- type: entity
  parent: FilledSecureCabinet
  id: ProsecutorSecureCabinet
  suffix: Prosecutor
  components:
  - type: AccessReader
    access: [["Prosecutor"]]

#Attorney (Lawyer)
- type: entity
  parent: FilledSecureCabinet
  id: AttorneySecureCabinet
  suffix: Attorney
  components:
  - type: AccessReader
    access: [["Lawyer"]]


#Department Secure Cabinets
#Command
- type: entity
  parent: FilledSecureCabinet
  id: CommandSecureCabinet
  suffix: Dept Command
  components:
  - type: AccessReader
    access: [["Command"]]

#Security
- type: entity
  parent: FilledSecureCabinet
  id: SecuritySecureCabinet
  suffix: Dept Security
  components:
  - type: AccessReader
    access: [["Security"]]

#Engineering
- type: entity
  parent: FilledSecureCabinet
  id: EngineeringSecureCabinet
  suffix: Dept Engineering
  components:
  - type: AccessReader
    access: [["Engineering"]]

#Medical
- type: entity
  parent: FilledSecureCabinet
  id: MedicalSecureCabinet
  suffix: Dept Medical
  components:
  - type: AccessReader
    access: [["Medical"]]

#Service
- type: entity
  parent: FilledSecureCabinet
  id: ServiceSecureCabinet
  suffix: Dept Service
  components:
  - type: AccessReader
    access: [["Service"]]

#Logistics (Cargo)
- type: entity
  parent: FilledSecureCabinet
  id: LogisticsSecureCabinet
  suffix: Dept Logistics
  components:
  - type: AccessReader
    access: [["Cargo"]]

#Epistemics (Research)
- type: entity
  parent: FilledSecureCabinet
  id: EpistemicsSecureCabinet
  suffix: Dept Epistemics
  components:
  - type: AccessReader
    access: [["Research"]]

#Justice
- type: entity
  parent: FilledSecureCabinet
  id: JusticeSecureCabinet
  suffix: Dept Justice
  components:
  - type: AccessReader
    access: [["Justice"]]
